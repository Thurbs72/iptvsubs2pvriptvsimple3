<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 14 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 2 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"\@PMingLiU";
	panose-1:2 2 5 0 0 0 0 0 0 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	color:#365F91;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:13.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Cambria","serif";
	color:#4F81BD;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Cambria","serif";
	color:#365F91;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Cambria","serif";
	color:#4F81BD;
	font-weight:bold;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-CA link=blue vlink=purple>

<div class=WordSection1>

<h1>Setting up Kodi’s PVR IPTV Simple to live TV stream provider using Stalker
protocol</h1>

<h2>Introduction</h2>

<p class=MsoNormal>As of 2016, many IPTV providers use Infomir’s Stalker
middleware to deploy IPTV services to customers who bought an Infomir’s MAG box.
Although the MAG boxes or STB emulator on Android work pretty well, many people
prefers the slick interface of Kodi. The official Kodi comes with a PVR Stalker
which can be used instead of a MAG box or STB emulator. PVR Stalker generally
works. However, there are a few downsides of using PVR Stalker addon with Kodi.
Provider’s EPG is usually unreliable with Kodi and so an alternative EPG source
is needed. Also, if the provider provides video on demand, the PVR Stalker does
not support it. Finally, some providers have over a 1,000 channels available
but many customers use only a few categories. Navigation through over 1,000
channels is difficult and it is time consuming to disable so many channels on
Kodi. Something better is needed.</p>

<p class=MsoNormal>Esxbr created an IPTV Stalker Video addon a couple years ago
that could generate a m3u file for people to customize and use with PVR IPTV
Simple. It is not very stable: it has issues with utf8 channel and video names,
the EPG does not work well, and setting it up with PVR IPTV Simple is not
simple. The folks in IPTVTalk forums refined and extended it to IPTV Stalker
Plus and IPTV Stalker Plus Lite, but they are locked to the providers they use.</p>

<p class=MsoNormal>Luckily the addon is released under GPL. I wanted to use it
with IPTVExpress, so I took the IPTV Stalker Plus Lite, and modified the code
to work with any provider. I called it IPTV Stalker Generic. If you use IPTV
provider with Stalker middleware and relying on MAC based authentication, it
should work. I also changed the VoD code such that it could go through the list
of videos provided no matter how large the video library is. It also has a
better support of Parental Lock for censored channels.</p>

<p class=MsoNormal>I also took Psyc0n’s previously released EPG Updater for
IPTVSubs and modified it to work IPTV Stalker Generic. It will download the EPG
file from anywhere you specify regularly. It will update the settings of PVR
IPTV Simple for you. And most important of all, you can specify which
categories you want to see in PVR IPTV Simple (instead of thousands of all
channels), and further filtering out channels by regular expression. </p>

<p class=MsoNormal>With these two Kodi addons, I can now sign up any IPTV
provider and use my Kodi without a MAG box or STB emulator (well, I scraped for
my own EPG anyway).</p>

<h2>Setting up</h2>

<h3>Information you need</h3>

<p class=MsoNormal>First, you need a MAC address and a subscription to IPTV
service. Notice that the subscription we need is NOT the Kodi or Android subscription
provided by IPTVSubs (I used to use them and I don’t anymore, read whatever you
think why). You just need any MAC based subscription for a MAG box. Say, if you
are purchasing from IPTVSubs, you choose either “Set-top box (MAG, AVOV)” or “STB
emulator” as your device.   You need to specify the MAC address that begins
with 00:1A:78 or 00:1A:79. If you don’t know what to put there, try get a
randomly generated MAC address from <a
href="https://iptvnumbers.net/search/macaddress.php">here</a>. If the provider
said it has already been used, you just need to re-generate another MAC address
and try again. Remember your MAC address since this is used for service authentication.</p>

<p class=MsoNormal>Other than MAC address, you will also need to make up a few
numbers to help prevent someone “accidentally” use your MAC address. For
device_id and device_id2, you should make up any six digits number (keep them
the same for both device_id and device_id2). For serial number, make up any
12-13 digits. </p>

<p class=MsoNormal>If you are already using STB emulator, you simply copy the
MAC address, device_id, device_id2 (if it’s different from device_id), the
serial number of STB emulator, and Signature. They will work. I actually tried
my service under STB emulator first before I set up my Kodi. It’s always easier
to isolate problem by using something you know for sure should work.</p>

<p class=MsoNormal>Some providers give you a login/password pair instead, or a
donation / route number. The IPTV Stalker Generic should support these methods
(it was inherited from the original IPTV Stalker Plus). I have not used these
methods so I can’t say whether it works or not.</p>

<p class=MsoNormal>Your provider should tell you a portal name. (IPTVSubs is <a
href="http://s1.welcm.tv">http://s1.welcm.tv</a>, IPTVExpress is <a
href="http://new.selfip.net">http://new.selfip.net</a> ). Remember this.</p>

<p class=MsoNormal>You should also know the IP address of the device that you
are running Kodi.</p>

<p class=MsoNormal>With these information ready, you can now start the
installation</p>

<h3>Installation</h3>

<p class=MsoNormal>Follow these steps (for Kodi 16):</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Go
to SYSTEM&gt;File manager, add source, enter http://littlestoneiptv.ignorelist.com/ 
and give it a name such as littlestoneiptv</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Go
to SYSTEM&gt;Settings&gt;Add-ons&gt;Install from zip file, select the source
you just added (littlestoneiptv) and pick littlestonerepo.zip to install my
repo.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Under
SYSTEM&gt;Settings&gt;Add-ons&gt;Install from repository, you will now see “LittleStone
IPTV Repo”. Choose this repo.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Go
into Video, you will find “IPTV Stalker Generic”. Right now it’s version 1.0.2.
Install it.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configure
IPTV Stalker Generic, under Portal 1 Tab, </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>give
the service a name (say, “Express”), </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>make
sure Enable is checked </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enter
the domain name of the portal under server (new.selfip.net for IPTVExpress)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>choose
the right MAC prefix matching your MAC address</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>enter
the last 3 pairs of MAC with the format 12:34:56</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>f.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>If you are not using login/password, leave them as default. If you use
them, enter the information as what the provider told you. If you use Donation
or Route Number, enter it under both Login and Password.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>g.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>If
this is a new subscription, you do not need to send device info. It is,
however, highly recommended. Checked “Send Device Info”, and also checked “Custom
Info”. Then enter your Serial Number, Device ID, and Device ID2. Enter
Signature if you have one.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>h.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>VoD
Pages can be any number. It is how many pages of Video on Demand the addon
scrape every time. 50 works well.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Under
Feature tab, you can choose to enable adult channels and the password to access
these channels. </p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Under
the M3U Server tab, you should enable the M3U Server. Keep all other settings
as default will do.</p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Once
you save the setting, you can run the addon under Video. If everything is set
up properly, you should see the portal, click the portal, and you will see “[VoD]”
for video on demand, and the list of TV channel categories. Enter each category
you will see the channel. Try to play some channels, if it works, then you have
set it up successfully.</p>

<p class=MsoNormal>Once you have the IPTV Stalker Generic set up, you can
download the M3U playlist of all TV channels with a browser. If you keep the
Kodi running and open up a browser on the same device, visit the page <a
href="http://localhost:8899/channels-1.m3u">http://localhost:8899/channels-1.m3u</a>
will give you the playlist of all channels. If you use another computer on the
local network, you just need to replace localhost with the IP address of where
you run your kodi. With this you are almost ready to put it into use with PVR
IPTV Simple.</p>

<h3>Using PVR IPTV Simple</h3>

<p class=MsoNormal>Well, you need a source of EPG in XMLTV format. For
IPTVSubs, I still update the EPG daily and put it on <a
href="https://github.com/littlestoneiptv/iptvsubs2pvriptvsimple3/raw/master/iptvsubsepg3.xml.gz">https://github.com/littlestoneiptv/iptvsubs2pvriptvsimple3/raw/master/iptvsubsepg3.xml.gz</a></p>

<p class=MsoNormal>For IPTVExpress, I put it on <a
href="https://github.com/littlestoneiptv/iptvsubs2pvriptvsimple3/raw/master/iptvexpress.xml.gz">https://github.com/littlestoneiptv/iptvsubs2pvriptvsimple3/raw/master/iptvexpress.xml.gz</a></p>

<p class=MsoNormal>For other providers, you will have to find the source
yourself. You could use WebGrab++ to generate it yourself. </p>

<p class=MsoNormal>Once you have it available, now you can use the updater I
forked.</p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure your IPTV PVR Simple is enabled with default setting.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Under
SYSTEM&gt;Settings&gt;Add-ons&gt;Install from repository, you will see “LittleStone
IPTV Repo”. Choose this repo.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Go
into Services, you will find “Stalker to PVR IPTV Simple”. Right now it’s version
1.0.1. Install it.</p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Configure
Stalker to PVR IPTV Simple:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure the portal number is corresponding to the portal you’ve set up. It should be
1.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
may need to adjust timezone’s shift depending on the platform and the EPG
source you use.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Put
the link to the EPG file under “URL to the XMLTV File”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Leave
the remaining settings by default should work. But if you want to customize
what channels you see:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-1.5in'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Under “Command Separated List of Enabled Groups (empty = All)”, list all
the categories you want with exactly the same spelling (case sensitive) as you
saw with the IPTV Stalker Generic addon, separated by “,”. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in;text-indent:-1.5in'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>You can further exclude some channels using regular expression. Say,
IPTVExpress includes some Spanish (ending with – ES) and French (ending with –
FR) channels under the KIDS categories and I don’t want them. So I enabled “Custom
Channel Filter by regex?” and put “ FR$| ES$” under “Excluded Channels – regex”.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'>e.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Enable
the addon and it should set up the PVR IPTV Simple automatically for you.
Restart Kodi a couple times, and you should see the channels and EPG appear under
TV.</p>

<h2>Final words</h2>

<p class=MsoNormal>Well, I do it for myself and find it useful to share with
everyone. But I provide no support whatsoever. If you identify an issue, you
may put it under my Github account (<a
href="https://github.com/littlestoneiptv/">https://github.com/littlestoneiptv/</a>)
when I get the time to put the addons there. You are more than welcome to fork
these since I forked them from the original. They are not mine.</p>

</div>

</body>

</html>
